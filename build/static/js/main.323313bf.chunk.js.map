{"version":3,"sources":["api/api.js","redux/reducers/filter-reducer.js","redux/store.js","common/img/logo/Logo.svg","components/Filters/Filters.jsx","components/Filters/FiltersContainer.jsx","components/Tabs/Tabs.jsx","components/Tabs/TabsContainer.jsx","utils/getFilteredTickets.js","components/TicketList/Ticket/Ticket.jsx","components/TicketList/TicketList.jsx","components/TicketList/TicketListContainer.jsx","app/App.jsx","app/AppContainer.jsx","index.jsx"],"names":["instance","axios","baseURL","aviaTickets","getSearchId","get","then","res","data","getTickets","userId","SET_FILTER","SET_TICKETS","SET_FILTERED_TICKETS","SET_USER_ID","SET_THE_CHEAPEST","SET_THE_FASTEST","SET_OPTIMAL","SET_FETCHING","initialState","filter","all","noTransfer","oneTransfer","twoTransfer","threeTransfer","tickets","isFetching","setFetching","type","filterReducer","state","action","filteredTickets","sort","prev","next","price","durationCount","ticket","segments","duration","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleWare","Filters","props","setFilter","useState","filterList","setFilterList","chooseOne","event","target","value","checked","actual","useEffect","className","role","onKeyDown","onChange","FilterContainer","connect","Tabs","setTheCheapest","setTheFastest","setOptimal","onClick","getFilteredTickets","map","stops","length","Ticket","carrier","flightDuration","Math","trunc","toLocaleString","src","alt","origin","destination","format","Date","date","getTime","item","style","marginRight","uniqueId","TicketList","importantTickets","slice","App","getAllTickets","Logo","TabsContainer","TicketListContainer","dispatch","allData","a","stop","catch","err","response","status","searchId","render","AppContainer","document","querySelector"],"mappings":"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","file":"static/js/main.323313bf.chunk.js","sourcesContent":["import * as axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://front-test.beta.aviasales.ru/',\n});\n\nconst aviaTickets = {\n  getSearchId: () => instance.get('search').then(res => res.data),\n  getTickets: userId => instance.get(`tickets?searchId=${userId}`).then(res => res.data),\n};\n\nexport default aviaTickets;","import aviaTickets from '../../api/api';\n\nconst SET_FILTER = 'filter/SET_FILTER';\nconst SET_TICKETS = 'filter/SET_TICKETS';\nconst SET_FILTERED_TICKETS = 'filter/SET_FILTERED_TICKETS';\nconst SET_USER_ID = 'filter/SET_USER_ID';\n\nconst SET_THE_CHEAPEST = 'filter/SET_THE_CHEAPEST';\nconst SET_THE_FASTEST = 'filter/SET_THE_FASTEST';\nconst SET_OPTIMAL = 'filter/SET_OPTIMAL';\n\nconst SET_FETCHING = 'filter/SET_FETCHING';\n\nconst initialState = {\n  filter: {\n    all: true,\n    noTransfer: true,\n    oneTransfer: true,\n    twoTransfer: true,\n    threeTransfer: true,\n  },\n  tickets: [],\n  isFetching: false,\n};\n\nconst filterReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_FILTER:\n      if (\n        !action.filter.all\n        && action.filter.noTransfer\n        && action.filter.oneTransfer\n        && action.filter.twoTransfer\n        && action.filter.threeTransfer\n      ) {\n        return {\n          ...state,\n          filter: {\n            ...state.filter,\n            ...action.filter,\n            all: true,\n          },\n        };\n      }\n      if (\n        action.filter.all\n        && !action.filter.noTransfer\n        || !action.filter.oneTransfer\n        || !action.filter.twoTransfer\n        || !action.filter.threeTransfer\n      ) {\n        return {\n          ...state,\n          filter: {\n            ...state.filter,\n            ...action.filter,\n            all: false,\n          },\n        };\n      }\n      return {\n        ...state,\n        filter: {\n          ...state.filter,\n          ...action.filter,\n        },\n      };\n    case SET_FILTERED_TICKETS:\n      return {\n        ...state,\n        filteredTickets: [...action.filteredTickets],\n      };\n    case SET_TICKETS:\n      return {\n        ...state,\n        tickets: [...state.tickets, ...action.tickets],\n      };\n    case SET_USER_ID:\n      return {\n        ...state,\n        userId: action.userId,\n      };\n    case SET_THE_CHEAPEST:\n      return {\n        ...state,\n        tickets: [...state.tickets.sort((prev, next) => prev.price - next.price)],\n      };\n    case SET_THE_FASTEST:\n      return {\n        ...state,\n        tickets: [...state.tickets.sort((prev, next) => {\n          const durationCount = ticket => ticket.segments[0].duration + ticket.segments[1].duration;\n\n          const durationA = durationCount(prev);\n          const durationB = durationCount(next);\n\n          return durationA - durationB;\n        })],\n      };\n    case SET_OPTIMAL:\n      return {\n        ...state,\n        tickets: [...state.tickets.sort((prev, next) =>\n          prev.price + prev.segments[0].duration + prev.segments[1].duration\n          -\n          (next.price + next.segments[0].duration + next.segments[1].duration),\n        )],\n      };\n    case SET_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching,\n      };\n    default:\n      return state;\n  }\n};\n\nconst setTickets = tickets => ({ type: SET_TICKETS, tickets });\nconst setFetching = isFetching => ({ type: SET_FETCHING, isFetching });\n\nexport const setFilter = filter => ({ type: SET_FILTER, filter });\nexport const setTheCheapest = () => ({ type: SET_THE_CHEAPEST });\nexport const setTheFastest = () => ({ type: SET_THE_FASTEST });\nexport const setOptimal = () => ({ type: SET_OPTIMAL });\n\nexport const getAllTickets = () => dispatch => {\n  dispatch(setFetching(false))\n\n  const allData = async (userId) => aviaTickets.getTickets(userId)\n    .then(res => {\n      dispatch(setTickets(res.tickets));\n      dispatch(setFetching(false))\n      if (!res.stop) allData(userId);\n      dispatch(setFetching(true))\n    })\n    .catch(err => {\n      if (err.response.status === 500) {\n        allData(userId);\n      }\n    });\n\n  aviaTickets.getSearchId().then(res => allData(res.searchId)).catch(() => {});\n\n};\nexport default filterReducer;","import { applyMiddleware, combineReducers, createStore } from 'redux';\nimport thunkMiddleWare from 'redux-thunk';\n\nimport filterReducer from './reducers/filter-reducer';\n\nconst reducers = combineReducers({\n  filter: filterReducer,\n});\n\nconst store = createStore(reducers, applyMiddleware(thunkMiddleWare))\n\nexport default store;","export default __webpack_public_path__ + \"static/media/Logo.f2ab8f4c.svg\";","import React, { useEffect, useState } from 'react';\nimport { Checkbox } from 'antd';\nimport PropTypes from 'prop-types';\nimport './Filters.scss';\n\nconst Filters = props => {\n    const { filter, setFilter } = props;\n    const [filterList, setFilterList] = useState(filter);\n\n    const putEverything = event => {\n      setFilterList(actual => {\n        return {\n          ...actual,\n          all: event.target.checked,\n          noTransfer: event.target.checked,\n          oneTransfer: event.target.checked,\n          twoTransfer: event.target.checked,\n          threeTransfer: event.target.checked,\n        };\n      });\n    };\n\n    const chooseOne = event => {\n      const { target } = event;\n      const { value, checked } = target;\n\n      setFilterList(actual => {\n        return {\n          ...actual,\n          [value]: checked,\n        };\n      });\n    };\n\n    useEffect(() => {\n      setFilter(filterList);\n    }, [filterList, setFilter, setFilterList]);\n\n    return (\n      <div className='filters'>\n        <h3>количество пересадок</h3>\n        <ul role='article'>\n          <li className='filter-item' onKeyDown={null}>\n            <Checkbox value='all' checked={filter.all} onChange={putEverything}>\n              Все\n            </Checkbox>\n          </li>\n          <li className='filter-item'>\n            <Checkbox value='noTransfer' checked={filter.noTransfer} onChange={chooseOne}>\n              Без пересадок\n            </Checkbox>\n          </li>\n          <li className='filter-item'>\n            <Checkbox value='oneTransfer' checked={filter.oneTransfer} onChange={chooseOne}>\n              1 пересадка\n            </Checkbox>\n          </li>\n          <li className='filter-item'>\n            <Checkbox value='twoTransfer' checked={filter.twoTransfer} onChange={chooseOne}>\n              2 пересадки\n            </Checkbox>\n          </li>\n          <li className='filter-item'>\n            <Checkbox value='threeTransfer' checked={filter.threeTransfer} onChange={chooseOne}>\n              3 пересадки\n            </Checkbox>\n          </li>\n        </ul>\n      </div>\n    );\n  }\n;\n\nFilters.propTypes = {\n  setFilter: PropTypes.func.isRequired,\n  filter: PropTypes.objectOf(PropTypes.bool).isRequired,\n}\nexport default Filters;","import { connect } from 'react-redux';\nimport { setFilter } from '../../redux/reducers/filter-reducer';\nimport Filters from './Filters';\n\nconst mapStateToProps = state => ({ filter: state.filter.filter, userId: state.filter.userId });\n\nconst FilterContainer = connect(mapStateToProps, { setFilter })(Filters);\n\nexport default FilterContainer;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Tabs.scss';\n\nconst Tabs = props => {\n  const { setTheCheapest, setTheFastest, setOptimal } = props;\n\n  return (\n    <div className='tabs row mb-3'>\n      <button type='button' className='col-xs-1 col-sm-4 col-md-4 btn btn-outline-primary'\n              onClick={setTheCheapest}>\n        Самый дешевый\n      </button>\n      <button type='button' className='col-xs-1 col-sm-4 col-md-4 btn btn-outline-primary'\n              onClick={setTheFastest}>\n        Самый быстрый\n      </button>\n      <button type='button' className='col-xs-1 col-sm-4 col-md-4 btn btn-outline-primary'\n              onClick={setOptimal}>\n        оптимальный\n      </button>\n    </div>\n  );\n};\n\nTabs.propTypes = {\n  setTheCheapest: PropTypes.func.isRequired,\n  setTheFastest: PropTypes.func.isRequired,\n  setOptimal: PropTypes.func.isRequired,\n};\n\nexport default Tabs;","import { connect } from 'react-redux';\nimport { setOptimal, setTheCheapest, setTheFastest } from '../../redux/reducers/filter-reducer';\nimport Tabs from './Tabs';\n\nconst mapStateToProps = () => ({});\n\nexport default connect(mapStateToProps, {setTheCheapest, setTheFastest, setOptimal})(Tabs)","const getFilteredTickets = (tickets, filter) => {\n  let filteredTickets = [];\n\n  if (filter.all) {\n    filteredTickets = tickets.map(ticket => ticket);\n  }\n\n  if (filter.noTransfer) {\n    filteredTickets = [...filteredTickets, ...tickets.filter(ticket => ticket.segments[0].stops.length === 0 && ticket.segments[1].stops.length === 0)];\n  }\n\n  if (filter.oneTransfer) {\n    filteredTickets = [...filteredTickets, ...tickets.filter(ticket => ticket.segments[0].stops.length === 1 && ticket.segments[1].stops.length === 1)];\n  }\n  if (filter.twoTransfer) {\n    filteredTickets = [...filteredTickets, ...tickets.filter(ticket => ticket.segments[0].stops.length === 2 && ticket.segments[1].stops.length === 2)];\n  }\n\n  if (filter.threeTransfer) {\n    filteredTickets = [...filteredTickets, ...tickets.filter(ticket => ticket.segments[0].stops.length === 3 && ticket.segments[1].stops.length === 3)];\n  }\n\n  return filteredTickets;\n}\n\nexport default getFilteredTickets;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {format} from 'date-fns';\nimport './Ticket.scss';\nimport uniqueId from 'lodash.uniqueid';\n\nconst Ticket = props => {\n  const { price, segments, carrier } = props;\n\n  const flightDuration = (duration) => `${Math.trunc(duration / 60)}ч ${duration % 60}м`;\n\n  return (\n    <li className='ticket'>\n      <div className='ticket-header d-flex align-items-center justify-content-between'>\n        <span className='price'>{price.toLocaleString('ru-RU')} Р</span>\n        <img src={`http://pics.avs.io/150/50/${carrier}.png`} alt={carrier} />\n      </div>\n      <div className='ticket-info row'>\n        <div className='col-4 pb-2'>\n          <span className='ticket-info-heading'>{segments[0].origin}-{segments[0].destination}</span>\n          <div className='ticket-info-time'>\n            {format(new Date(segments[0].date), 'hh:mm')}\n            -\n            {format(new Date(segments[0].date).getTime() + segments[0].duration * 60000, 'hh:mm')}\n          </div>\n        </div>\n        <div className='col-4 pb-2'>\n          <span className='ticket-info-heading'>в пути</span>\n          <div className='ticket-info-time'>{flightDuration(segments[0].duration)}</div>\n        </div>\n        <div className='col-4 pb-2'>\n          <span className='ticket-info-heading'>{segments[0].stops.length} пересадки</span>\n          <div className='ticket-info-time'>\n            <div className='ticket-info-time'>{segments[0].stops.map(item => <span key={uniqueId()} style={{marginRight: 5}}>{item}</span>)}</div>\n          </div>\n        </div>\n\n\n        <div className='col-4 pb-2'>\n          <span className='ticket-info-heading'>{segments[1].origin}-{segments[1].destination}</span>\n          <div className='ticket-info-time'>\n            {format(new Date(segments[1].date), 'hh:mm')}\n            -\n            {format(new Date(segments[1].date).getTime() + segments[1].duration * 60000, 'hh:mm')}\n          </div>\n        </div>\n        <div className='col-4 pb-2'>\n          <span className='ticket-info-heading'>в пути</span>\n          <div className='ticket-info-time'>{flightDuration(segments[1].duration)}</div>\n        </div>\n        <div className='col-4 pb-2'>\n          <span className='ticket-info-heading'>{segments[1].stops.length} пересадки</span>\n          <div className='ticket-info-time'>{segments[1].stops.map(item => <span key={uniqueId()} style={{marginRight: 5}}>{item}</span>)}</div>\n        </div>\n      </div>\n    </li>\n  );\n};\n\nTicket.propTypes = {\n  price: PropTypes.number.isRequired,\n  segments: PropTypes.arrayOf(PropTypes.object).isRequired,\n  carrier: PropTypes.string.isRequired,\n}\n\nexport default Ticket;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport uniqueId from 'lodash.uniqueid';\nimport { Spin } from 'antd';\nimport getFilteredTickets from '../../utils/getFilteredTickets';\nimport Ticket from './Ticket/Ticket';\nimport './TicketList.scss';\n\nconst TicketList = props => {\n  const { tickets, filter, isFetching } = props;\n\n\n  const filteredTickets = getFilteredTickets(tickets, filter);\n\n  const ticketsReady = filteredTickets.map(ticket => <Ticket key={uniqueId()} {...ticket} />);\n  const importantTickets = ticketsReady.slice(0, 5);\n\n  return (\n    <>\n      <ul className='ticket-list row'>\n        {filteredTickets.length === 0\n          ? <div className='ticket-list-description mb-3'>Рейсов, подходящих под заданные фильтры, не найдено</div>\n          : null\n        }\n        {!isFetching ? <Spin /> : importantTickets}\n        <button type='button' className='show-more'>Показать еще 5 билетов!</button>\n      </ul>\n    </>\n  );\n};\n\nTicketList.propTypes = {\n  tickets: PropTypes.arrayOf(PropTypes.object).isRequired,\n  filter: PropTypes.objectOf(PropTypes.bool).isRequired,\n  isFetching: PropTypes.bool.isRequired,\n};\n\nexport default TicketList;","import { connect } from 'react-redux';\nimport TicketList from './TicketList';\n\nconst mapStateToProps = state => {\n  return {\n    tickets: state.filter.tickets,\n    filter: state.filter.filter,\n    isFetching: state.filter.isFetching,\n  }\n};\n\nexport default connect(mapStateToProps, {})(TicketList)","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport 'antd/dist/antd.css';\nimport Logo from '../common/img/logo/Logo.svg';\nimport FilterContainer from '../components/Filters/FiltersContainer';\nimport TabsContainer from '../components/Tabs/TabsContainer';\nimport TicketListContainer from '../components/TicketList/TicketListContainer';\n\nimport './App.scss';\n\nconst App = props => {\n  const {getAllTickets, tickets } = props;\n\n  useEffect(() => {\n    if (tickets.length === 0) {\n      getAllTickets()\n    }\n  },[tickets, getAllTickets])\n\n  return (\n    <div className='bg'>\n      <div className='container'>\n        <div className='row'>\n          <div className='logo d-flex justify-content-center'>\n            <img src={Logo} alt='' />\n          </div>\n\n          <div className='mb-3 col-xs-3 col-sm-12 col-md-4 col-lg-4'>\n            <FilterContainer />\n          </div>\n          <div className='col-xs-5 col-sm-12 col-md-8 col-lg-8'>\n            <TabsContainer />\n            <TicketListContainer />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nApp.propTypes = {\n  getAllTickets: PropTypes.func.isRequired,\n  tickets: PropTypes.arrayOf(PropTypes.object).isRequired,\n}\n\nexport default App;","import { connect } from 'react-redux';\nimport { getAllTickets } from '../redux/reducers/filter-reducer';\nimport App from './App';\n\nconst mapStateToProps = state => {\n  return {\n      tickets: state.filter.tickets,\n  }\n}\n\nexport default connect(mapStateToProps, {getAllTickets})(App);","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport AppContainer from './app/AppContainer'\n\n\nrender(<Provider store={store}>\n    <AppContainer />\n  </Provider>,\n  document.querySelector('#root'));"],"sourceRoot":""}